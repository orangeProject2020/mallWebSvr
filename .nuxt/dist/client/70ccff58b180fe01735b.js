(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{195:function(e,t,r){"use strict";r(80),r(38),r(27),r(17),r(63);var n=r(47),o=(r(28),r(119));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={upload:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/upload/base64",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},authCheck:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/auth/check",{}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},authLogin:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/auth/register",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getVerifyCode:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/utils/sms/sendVerifyCode",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getUserInfo:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/data/infoApp",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getUserNoReadMsgCount:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/message/noReadCount",{}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},addressList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/address/listUser",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getUserMsgList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/message/listUser",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},userMsgRead:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/message/update",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},addressUpdate:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/address/update",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},addressDelete:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/address/delete",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},cartItems:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(o.a.post("/cart/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},cartItemPlus:function(e){var t,r=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:1,n.next=3,regeneratorRuntime.awrap(o.a.post("/cart/plus",l({},e,{num:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))},cartItemMinus:function(e){var t,r=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:1,n.next=3,regeneratorRuntime.awrap(o.a.post("/cart/minus",l({},e,{num:t})));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))},cartClear:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(o.a.post("/cart/clear"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},getCategorys:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/goods/categorys",{status:1}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getGoodsList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/goods/list",l({},data,{status:1})));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getUserInviteCode:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/invite/getCode"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getUserAssets:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/user/infoAssets"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},createOrder:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/order/create",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},cancelOrder:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/order/cancel",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},finishOrder:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/order/finish",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getOrder:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/order/detail",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getOrderList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/order/list",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},createPayment:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/payment/create",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},alipaySumbit:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/utils/alipay/wapPay",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},wxpaySumbit:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/utils/wxpay/h5Pay",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getInviteList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/user/invite/list",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getWithdrawList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/withdraw/list",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},withdrawApply:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/withdraw/apply",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getProfitList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/profit/list",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getAfterInfo:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/after/info",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},getAfterList:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/after/list",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},afterApplySubmit:function(data){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o.a.post("/api/mall/after/apply",data));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))}}},196:function(e,t,r){"use strict";r(81),r(82),r(17);var n=r(194),o=r.n(n);t.a={formatPrice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e/100).toFixed(2)},unLimitTreeLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,o=function e(t,n,o){for(var i=0;i<t.length;i++){var c=t[i];if(c.pid==n){c.level=o,c.html="";for(var l=0;l<o;l++)c.html+=" -- ";r.push(c),e(t,c.id,o+1)}}};return o(e,t,n),r},getTimestamp:function(e){var t=new Date(e);return parseInt(t.getTime()/1e3)},dateFormat:function(e,t){t=t||"YYYY-MM-DD HH:mm";var r=null;return r=e?new Date(1e3*e):new Date,o()(r).format(t)},dateDisplay:function(e){var t=parseInt(Date.now()/1e3)-e;if(t<60)return t+"秒前";if(t>=60&&t<3600)return parseInt(t/60).toString()+"分钟前";if(t>=3600&&t<86400)return parseInt(t/3600).toString()+"小时前";if(t>=86400&&t<2592e3)return parseInt(t/3600/24).toString()+"天前";var r=new Date(1e3*e);return o()(r).format("YYYY-MM-DD HH:mm")},monthPlus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[31,28,31,30,31,30,31,31,30,31,30,31],o=parseInt(this.dateFormat(e,"YYYY")),c=parseInt(this.dateFormat(e,"MM")),l=parseInt(this.dateFormat(e,"DD"));n[1]=o%4==0&&o/100!=0||o%100==0&&o%400==0?29:28;var f=0,d=n[c-1]-l;f+=d;for(var i=0;i<t;i++){(c+=1)>12&&(c=1,o+=1),n[1]=o%4==0&&o/100!=0||o%100==0&&o%400==0?29:28;var m=n[c-1];i==t-1&&(m=m-l<0?m:l),console.log("for days:",m),f+=m}return r?(e=e||parseInt(Date.now()/1e3))+24*f*3600:f},checkPlatform:function(){return/android/i.test(navigator.userAgent)?"android":/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":""},checkWeixin:function(){return!!/MicroMessenger/i.test(navigator.userAgent)}}},324:function(e,t,r){var map={"./af":197,"./af.js":197,"./ar":198,"./ar-dz":199,"./ar-dz.js":199,"./ar-kw":200,"./ar-kw.js":200,"./ar-ly":201,"./ar-ly.js":201,"./ar-ma":202,"./ar-ma.js":202,"./ar-sa":203,"./ar-sa.js":203,"./ar-tn":204,"./ar-tn.js":204,"./ar.js":198,"./az":205,"./az.js":205,"./be":206,"./be.js":206,"./bg":207,"./bg.js":207,"./bm":208,"./bm.js":208,"./bn":209,"./bn.js":209,"./bo":210,"./bo.js":210,"./br":211,"./br.js":211,"./bs":212,"./bs.js":212,"./ca":213,"./ca.js":213,"./cs":214,"./cs.js":214,"./cv":215,"./cv.js":215,"./cy":216,"./cy.js":216,"./da":217,"./da.js":217,"./de":218,"./de-at":219,"./de-at.js":219,"./de-ch":220,"./de-ch.js":220,"./de.js":218,"./dv":221,"./dv.js":221,"./el":222,"./el.js":222,"./en-SG":223,"./en-SG.js":223,"./en-au":224,"./en-au.js":224,"./en-ca":225,"./en-ca.js":225,"./en-gb":226,"./en-gb.js":226,"./en-ie":227,"./en-ie.js":227,"./en-il":228,"./en-il.js":228,"./en-nz":229,"./en-nz.js":229,"./eo":230,"./eo.js":230,"./es":231,"./es-do":232,"./es-do.js":232,"./es-us":233,"./es-us.js":233,"./es.js":231,"./et":234,"./et.js":234,"./eu":235,"./eu.js":235,"./fa":236,"./fa.js":236,"./fi":237,"./fi.js":237,"./fo":238,"./fo.js":238,"./fr":239,"./fr-ca":240,"./fr-ca.js":240,"./fr-ch":241,"./fr-ch.js":241,"./fr.js":239,"./fy":242,"./fy.js":242,"./ga":243,"./ga.js":243,"./gd":244,"./gd.js":244,"./gl":245,"./gl.js":245,"./gom-latn":246,"./gom-latn.js":246,"./gu":247,"./gu.js":247,"./he":248,"./he.js":248,"./hi":249,"./hi.js":249,"./hr":250,"./hr.js":250,"./hu":251,"./hu.js":251,"./hy-am":252,"./hy-am.js":252,"./id":253,"./id.js":253,"./is":254,"./is.js":254,"./it":255,"./it-ch":256,"./it-ch.js":256,"./it.js":255,"./ja":257,"./ja.js":257,"./jv":258,"./jv.js":258,"./ka":259,"./ka.js":259,"./kk":260,"./kk.js":260,"./km":261,"./km.js":261,"./kn":262,"./kn.js":262,"./ko":263,"./ko.js":263,"./ku":264,"./ku.js":264,"./ky":265,"./ky.js":265,"./lb":266,"./lb.js":266,"./lo":267,"./lo.js":267,"./lt":268,"./lt.js":268,"./lv":269,"./lv.js":269,"./me":270,"./me.js":270,"./mi":271,"./mi.js":271,"./mk":272,"./mk.js":272,"./ml":273,"./ml.js":273,"./mn":274,"./mn.js":274,"./mr":275,"./mr.js":275,"./ms":276,"./ms-my":277,"./ms-my.js":277,"./ms.js":276,"./mt":278,"./mt.js":278,"./my":279,"./my.js":279,"./nb":280,"./nb.js":280,"./ne":281,"./ne.js":281,"./nl":282,"./nl-be":283,"./nl-be.js":283,"./nl.js":282,"./nn":284,"./nn.js":284,"./pa-in":285,"./pa-in.js":285,"./pl":286,"./pl.js":286,"./pt":287,"./pt-br":288,"./pt-br.js":288,"./pt.js":287,"./ro":289,"./ro.js":289,"./ru":290,"./ru.js":290,"./sd":291,"./sd.js":291,"./se":292,"./se.js":292,"./si":293,"./si.js":293,"./sk":294,"./sk.js":294,"./sl":295,"./sl.js":295,"./sq":296,"./sq.js":296,"./sr":297,"./sr-cyrl":298,"./sr-cyrl.js":298,"./sr.js":297,"./ss":299,"./ss.js":299,"./sv":300,"./sv.js":300,"./sw":301,"./sw.js":301,"./ta":302,"./ta.js":302,"./te":303,"./te.js":303,"./tet":304,"./tet.js":304,"./tg":305,"./tg.js":305,"./th":306,"./th.js":306,"./tl-ph":307,"./tl-ph.js":307,"./tlh":308,"./tlh.js":308,"./tr":309,"./tr.js":309,"./tzl":310,"./tzl.js":310,"./tzm":311,"./tzm-latn":312,"./tzm-latn.js":312,"./tzm.js":311,"./ug-cn":313,"./ug-cn.js":313,"./uk":314,"./uk.js":314,"./ur":315,"./ur.js":315,"./uz":316,"./uz-latn":317,"./uz-latn.js":317,"./uz.js":316,"./vi":318,"./vi.js":318,"./x-pseudo":319,"./x-pseudo.js":319,"./yo":320,"./yo.js":320,"./zh-cn":321,"./zh-cn.js":321,"./zh-hk":322,"./zh-hk.js":322,"./zh-tw":323,"./zh-tw.js":323};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=324},355:function(e,t,r){"use strict";r.r(t);r(80),r(38),r(27),r(17),r(63),r(64),r(28);var n=r(47),o=r(195);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var l={head:function(){return{title:"售后申请"}},data:function(){return{detail:{order_item:null,after:{}},orderItemId:0,isLoading:!1,afterTypeText:"",selectTypeData:{show:!1,actions:[{name:"退货",val:1},{name:"换货",val:2}]},selectReasonData:{show:!1,actions:[{name:"质量问题"},{name:"购物错误"},{name:"货物破损"},{name:"功能缺失或故障"},{name:"其他原因"}]},fileList:[],fileTypeLimit:["image/jpeg","image/png"],applySumitBtn:{disabled:!1},applyCan:!0,titleMsg:"",expressInfo:{company:"",no:""}}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},r(196).a,{navBack:function(){this.$store.state.isApp?uni.navigateBack():this.$router.go(-1)},getDeadline:function(){var e=parseInt(Date.now()/1e3),t=e+604800;e>this.detail.order_item.close_time&&e<t?(this.titleMsg="超过售后退货时间，可申请换货",this.selectTypeData.actions=[{name:"退货",val:1,disabled:!0},{name:"换货",val:2}]):e>t&&(this.titleMsg="超过售后时间，不可申请退换货",this.applyCan=!1)},getData:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,regeneratorRuntime.awrap(o.a.getAfterInfo({id:this.orderItemId}));case 4:if(0!==(e=t.sent).code){t.next=11;break}this.detail.order_item=e.data.order_item||null,this.detail.after=e.data.after||{},this.detail.after.id&&(this.afterTypeText=this.selectTypeData.actions[e.data.after.type].name,this.detail.after.express_info=this.detail.after.express_info?JSON.parse(this.detail.after.express_info):{},console.log(this.detail.after),this.getDeadline()),t.next=12;break;case 11:throw new Error(e.message);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),this.$toast.fail(t.t0.message||"获取数据失败，稍后重试");case 17:this.loading=!1;case 18:case"end":return t.stop()}}),null,this,[[0,14]])},onRefresh:function(){this.getData()},selectTypeClick:function(){this.afterTypeText="",this.selectTypeData.show=!0},selectTypeAction:function(e){console.log(e),this.detail.after.type=e.val,this.afterTypeText=e.name,this.selectTypeData.show=!1},selectReasonClick:function(){this.selectReasonData.show=!0},selectReasonAction:function(e){this.detail.after.reason=e.name,this.selectReasonData.show=!1},uploadBeforeRead:function(e){return!0},uploadAfterRead:function(e){var data,t;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("/uploadAfterRead file:",e),console.log("/uploadAfterRead fileList:",this.fileList),data={name:e.file.name,content:e.content},r.prev=3,r.next=6,regeneratorRuntime.awrap(o.a.upload(data));case 6:if(0!=(t=r.sent).code){r.next=12;break}this.fileList.forEach((function(r){r.content==e.content&&(e.url=t.data.url)})),console.log("/uploadAfterRead fileList:",this.fileList),r.next=13;break;case 12:throw new Error(t.message);case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(3),this.$toast.fail(r.t0.message||"上传失败");case 18:case"end":return r.stop()}}),null,this,[[3,15]])},applySubmit:function(){var data,e,t=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.applySumitBtn=!0,this.detail.after.pics=[],this.fileList.forEach((function(e){t.detail.after.pics.push(e.url)})),console.log("/applySubmit data: ",this.detail.after),r.prev=4,(data=this.detail.after).order_item_id=this.orderItemId,data.express_info=JSON.stringify(this.expressInfo),data.type&&data.reason&&this.expressInfo.company&&this.expressInfo.no){r.next=10;break}throw new Error("提交信息不完整");case 10:return r.next=12,regeneratorRuntime.awrap(o.a.afterApplySubmit(data));case 12:if(0!=(e=r.sent).code){r.next=17;break}this.onRefresh(),r.next=18;break;case 17:throw new Error(e.message);case 18:r.next=23;break;case 20:r.prev=20,r.t0=r.catch(4),this.$toast.fail(r.t0.message||"提交失败");case 23:this.applySumitBtn=!1;case 24:case"end":return r.stop()}}),null,this,[[4,20]])}}),created:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.orderItemId=this.$route.query.id,e.next=3,regeneratorRuntime.awrap(this.getData());case 3:case"end":return e.stop()}}),null,this)}},f=r(29),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("van-nav-bar",{attrs:{title:"售后申请","left-text":"","left-arrow":""},on:{"click-left":e.navBack}}),e._v(" "),r("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[e.detail.order_item?r("van-card",{key:e.detail.order_item.id,attrs:{price:(e.detail.order_item.price/100).toFixed(2),desc:e.detail.order_item.desc,num:e.detail.order_item.num}},[r("template",{slot:"title"},[r("span",{staticClass:"text-2xl text-black-50"},[e._v(e._s(e.detail.order_item.name))])]),e._v(" "),r("template",{slot:"thumb"},[r("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.detail.order_item.thumb||e.detail.order_item.cover,alt:""}})])],2):e._e(),e._v(" "),e.detail.order_item?r("van-cell-group",[r("van-cell",{attrs:{title:"订单金额"}},[[r("span",{staticClass:"text-red-500"},[e._v("￥"+e._s(e.formatPrice(e.detail.order_item.total)))])]],2),e._v(" "),r("van-cell",{attrs:{title:"订单创建时间"}},[[e._v(e._s(e.dateFormat(e.detail.order_item.create_time)))]],2),e._v(" "),r("van-cell",{attrs:{title:"订单状态"}},[[0==e.detail.order_item.status?r("span",[e._v("待付款")]):e._e(),e._v(" "),1==e.detail.order_item.status?r("span",[e._v("待发货")]):e._e(),e._v(" "),2==e.detail.order_item.status?r("span",[e._v("待收货")]):e._e(),e._v(" "),3==e.detail.order_item.status?r("span",[e._v("已完成")]):e._e(),e._v(" "),-1==e.detail.order_item.status?r("span",[e._v("已取消")]):e._e()]],2)],1):e._e(),e._v(" "),e.detail.after.id?e._e():r("van-cell-group",[r("van-cell",{attrs:{title:"售后类型","is-link":""},on:{click:e.selectTypeClick}},[e.detail.after.type?r("template",{slot:"default"},[r("span",[e._v(e._s(e.afterTypeText))])]):e._e()],2),e._v(" "),r("van-cell",{attrs:{title:"选择退换货理由","is-link":""},on:{click:e.selectReasonClick}},[e.detail.after.reason?r("template",{slot:"default"},[e._v(e._s(e.detail.after.reason))]):e._e()],2),e._v(" "),r("van-field",{attrs:{placeholder:"请输入退换货物流公司",label:"物流公司",required:""},model:{value:e.expressInfo.company,callback:function(t){e.$set(e.expressInfo,"company",t)},expression:"expressInfo.company"}}),e._v(" "),r("van-field",{attrs:{placeholder:"请输入退换货物流单号",label:"物流单号",required:""},model:{value:e.expressInfo.no,callback:function(t){e.$set(e.expressInfo,"no",t)},expression:"expressInfo.no"}})],1),e._v(" "),e.detail.after.id?r("van-cell-group",[r("van-cell",{attrs:{title:"售后类型"}},[e.detail.after.type?r("template",{slot:"default"},[r("span",[e._v(e._s(e.afterTypeText))])]):e._e()],2),e._v(" "),r("van-cell",{attrs:{title:"退换货理由"}},[e.detail.after.reason?r("template",{slot:"default"},[e._v(e._s(e.detail.after.reason))]):e._e()],2),e._v(" "),r("van-cell",{attrs:{title:"售后单号"}},[r("template",{slot:"default"},[e._v(e._s(e.detail.after.after_no))])],2),e._v(" "),r("van-cell",{attrs:{title:"提交时间"}},[r("template",{slot:"default"},[e._v(e._s(e.dateFormat(e.detail.after.create_time)))])],2),e._v(" "),r("van-cell",{attrs:{title:"物流公司"}},[r("template",{slot:"default"},[e._v(e._s(e.detail.after.express_info.company))])],2),e._v(" "),r("van-cell",{attrs:{title:"物流单号"}},[r("template",{slot:"default"},[e._v(e._s(e.detail.after.express_info.no))])],2),e._v(" "),r("van-cell",{attrs:{title:"状态"}},[r("template",{slot:"default"},[0==e.detail.after.status?r("span",[e._v("未通过")]):e._e(),e._v(" "),1==e.detail.after.status?r("span",[e._v("处理中")]):e._e(),e._v(" "),2==e.detail.after.status?r("span",[e._v("已完成")]):e._e()])],2)],1):e._e(),e._v(" "),e.detail.after.id?e._e():r("van-row",[r("van-cell",{attrs:{span:"24"}},[e._v(e._s(e.titleMsg))]),e._v(" "),e.applyCan?r("van-cell",{attrs:{span:"24"}},[r("van-button",{attrs:{round:"",type:"danger",plain:"",block:""},on:{click:e.applySubmit}},[e._v("提交")])],1):e._e()],1)],1),e._v(" "),r("van-action-sheet",{attrs:{actions:e.selectTypeData.actions},on:{select:e.selectTypeAction},model:{value:e.selectTypeData.show,callback:function(t){e.$set(e.selectTypeData,"show",t)},expression:"selectTypeData.show"}}),e._v(" "),r("van-action-sheet",{attrs:{actions:e.selectReasonData.actions},on:{select:e.selectReasonAction},model:{value:e.selectReasonData.show,callback:function(t){e.$set(e.selectReasonData,"show",t)},expression:"selectReasonData.show"}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);